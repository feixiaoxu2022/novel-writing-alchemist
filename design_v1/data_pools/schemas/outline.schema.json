{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "outline.schema.json",
  "title": "小说故事大纲",
  "description": "节奏规划参考，确保故事有合理的起承转合",
  "type": "object",
  "required": ["act_one", "act_two", "act_three"],
  "properties": {
    "act_one": {
      "type": "object",
      "description": "第一幕：开篇（20-30%篇幅）- 建立世界观、引入主角和核心冲突",
      "required": ["description", "key_chapters", "turning_point"],
      "properties": {
        "description": {
          "type": "string",
          "description": "该幕的核心任务描述"
        },
        "key_chapters": {
          "type": "array",
          "description": "该幕的关键章节数组",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["chapter_number", "chapter_title", "core_event"],
            "properties": {
              "chapter_number": {
                "type": "integer",
                "minimum": 1,
                "description": "章节编号"
              },
              "chapter_title": {
                "type": "string",
                "description": "章节标题"
              },
              "core_event": {
                "type": "string",
                "description": "本章核心事件（1-2句话）"
              },
              "emotional_tone": {
                "type": "string",
                "description": "本章情感基调"
              },
              "key_scenes": {
                "type": "array",
                "description": "本章关键场景列表",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "turning_point": {
          "type": "string",
          "description": "本幕结尾的转折点"
        }
      }
    },
    "act_two": {
      "type": "object",
      "description": "第二幕：挣扎（40-50%篇幅）- 冲突升级、主角陷入困境",
      "required": ["description", "key_chapters", "turning_point"],
      "properties": {
        "description": {
          "type": "string",
          "description": "该幕的核心任务描述"
        },
        "key_chapters": {
          "type": "array",
          "description": "该幕的关键章节数组",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["chapter_number", "chapter_title", "core_event"],
            "properties": {
              "chapter_number": {
                "type": "integer",
                "minimum": 1,
                "description": "章节编号"
              },
              "chapter_title": {
                "type": "string",
                "description": "章节标题"
              },
              "core_event": {
                "type": "string",
                "description": "本章核心事件（1-2句话）"
              },
              "emotional_tone": {
                "type": "string",
                "description": "本章情感基调"
              },
              "key_scenes": {
                "type": "array",
                "description": "本章关键场景列表",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "turning_point": {
          "type": "string",
          "description": "本幕结尾的转折点"
        }
      }
    },
    "act_three": {
      "type": "object",
      "description": "第三幕：高潮+结局（20-30%篇幅）- X-Y化学反应爆发",
      "required": ["description", "key_chapters"],
      "properties": {
        "description": {
          "type": "string",
          "description": "该幕的核心任务描述"
        },
        "key_chapters": {
          "type": "array",
          "description": "该幕的关键章节数组",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": ["chapter_number", "chapter_title", "core_event"],
            "properties": {
              "chapter_number": {
                "type": "integer",
                "minimum": 1,
                "description": "章节编号"
              },
              "chapter_title": {
                "type": "string",
                "description": "章节标题"
              },
              "core_event": {
                "type": "string",
                "description": "本章核心事件（1-2句话）"
              },
              "emotional_tone": {
                "type": "string",
                "description": "本章情感基调"
              },
              "key_scenes": {
                "type": "array",
                "description": "本章关键场景列表",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "turning_point": {
          "type": "string",
          "description": "本幕结尾的转折点（可选）"
        }
      }
    }
  }
}
